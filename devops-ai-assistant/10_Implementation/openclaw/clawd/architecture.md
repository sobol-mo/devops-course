
# Архитектура системы LLM-агента-экзаменатора

## Концепция
LLM-агент, который проверяет знания студента в формате живого диалога (защита лабораторной или ответ по теме).

## Основные компоненты:
1. **Интерфейс взаимодействия**
   - Веб-SPA (React) для студентов и преподавателей
   - Telegram-бот для удобства (мобильные устройства)
   - API для интеграции с LMS (Canvas, Moodle)

2. **Ядро диалога**
   - Системный промпт экзаменатора (критерии оценки, тема, глубина)
   - Контекстная история обмена (студент ↔ агент)
   - Модель: Gemini-3-Flash (базовая) + Claude-Sonnet-4-6 (сложные рассуждения)
   - Адаптивный flow: уточняющие вопросы → глубина ответов → оценка уверенности

3. **Система оценки**
   - Критерии:
     1. Фактологическая точность (по материалам курса)
     2. Полнота раскрытия темы
     3. Логичность объяснения
     4. Уверенность в ответе
   - Формат: шкала 0–10 по каждому критерию
   - Агрегированная оценка: по формулам (можно настраивать)

4. **Источники знаний**
   - Загруженные материалы курса (лекции, методички, эталонные ответы)
   - Векторное хранилище (pgvector + chromadb) для семантического поиска ответов
   - Ссылка на конкретные слайды/параграфы для верификации

5. **Протоколирование**
   - Фиксация всего диалога
   - Аудитория экзамена (можно записать аудио с защитой)
   - Подпись оценок хэшем (для невозможности подделки)

## Технологический стек (предложение):
- Frontend: React + Vite (лёгкий, быстро)
- Backend: Python (FastAPI) + OpenAI API (или других провайдеров)
- BД: PostgreSQL (pgvector), Redis для кэша сессий
- Брокер: RabbitMQ/Kafka для распределения запросов между моделями
- Мониторинг: Sentry, Grafana, Prometheus

## Безопасность:
- JWT-токены для студентов и преподавателей
- Двухфакторная аутентификация для экзаменов
- Подпись транзакций блокчейн (доп. уровень неотрекаемости)

## Этапы запуска (MVP):
1. Telegram-бот с базовым диалогом и оценкой
2. Веб-интерфейс для администратора
3. Интеграция с KhPI расписанием
4. ЛК преподавателя для конфигурации критериев

## Стоимость оценки (ориентировочно):
- Gemini-3-Flash = ~$0.075 на одного студента за экзамен (500 токенов вопрос + 2000 ответ)
- Дешевле преподавателя в 10–20 раз.

---

Calen, 2026-02-24 | Проект в Notion: AI Assistant
